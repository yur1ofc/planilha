<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planilha Financeira Completa</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <!-- Firebase App (core) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <!-- Firebase Auth -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Tela de Login -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h1>üí∞ Planilha Financeira</h1>
                <p>Controle suas finan√ßas de forma inteligente</p>
            </div>
            
            <div class="login-tabs">
                <button class="login-tab active" id="loginTab">Entrar</button>
                <button class="login-tab" id="registerTab">Cadastrar</button>
            </div>
            
            <!-- Formul√°rio de Login -->
            <form id="loginForm" class="login-form active">
                <div class="form-group">
                    <label for="loginEmail">E-mail</label>
                    <input type="email" id="loginEmail" required placeholder="seu@email.com">
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" required placeholder="Sua senha">
                </div>
                
                <button type="submit" class="btn btn-primary btn-block" id="loginBtn">
                    <span class="btn-text">Entrar</span>
                    <div class="btn-loading hidden">Carregando...</div>
                </button>
                
                <div class="login-links">
                    <a href="#" id="forgotPassword">Esqueci minha senha</a>
                </div>
            </form>
            
            <!-- Formul√°rio de Cadastro -->
            <form id="registerForm" class="login-form">
                <div class="form-group">
                    <label for="registerName">Nome completo</label>
                    <input type="text" id="registerName" required placeholder="Seu nome completo">
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">E-mail</label>
                    <input type="email" id="registerEmail" required placeholder="seu@email.com">
                </div>
                
                <div class="form-group">
                    <label for="registerPassword">Senha</label>
                    <input type="password" id="registerPassword" required placeholder="M√≠nimo 6 caracteres" minlength="6">
                </div>
                
                <div class="form-group">
                    <label for="registerConfirmPassword">Confirmar senha</label>
                    <input type="password" id="registerConfirmPassword" required placeholder="Digite novamente sua senha">
                </div>
                
                <button type="submit" class="btn btn-primary btn-block" id="registerBtn">
                    <span class="btn-text">Criar conta</span>
                    <div class="btn-loading hidden">Criando conta...</div>
                </button>
            </form>
            
            <div class="login-footer">
                <p>Ao continuar, voc√™ concorda com nossos <a href="#" onclick="return false;">Termos de Servi√ßo</a> e <a href="#" onclick="return false;">Pol√≠tica de Privacidade</a></p>
            </div>
        </div>
    </div>

    <!-- Aplica√ß√£o Principal (ser√° mostrada ap√≥s login) -->
    <div id="appContainer" class="hidden">
        <div class="container">
            <div class="header">
                <h1>Planilha Financeira Completa</h1>
                <p>Controle total das suas finan√ßas em um s√≥ lugar</p>
                <div class="user-menu">
                    <span id="userEmail">usu√°rio@email.com</span>
                    <button class="theme-toggle" id="themeToggle">üåô</button>
                    <button class="btn btn-secondary btn-sm" onclick="sair()">Sair</button>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>

            <!-- Question√°rio Inicial -->
            <div class="section active" id="section1">
                <h2>Perfil Financeiro</h2>
                <p>Vamos come√ßar conhecendo melhor sua situa√ß√£o financeira atual.</p>
                
                <div class="question-group">
                    <div class="question">Qual sua situa√ß√£o habitacional?</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(this)">Mora sozinho(a)</div>
                        <div class="option" onclick="selectOption(this)">Mora com os pais/familiares</div>
                        <div class="option" onclick="selectOption(this)">Mora com parceiro(a)/amigos</div>
                        <div class="option" onclick="selectOption(this)">Outro</div>
                    </div>
                </div>
                
                <div class="navigation">
                    <div></div>
                    <button class="btn btn-primary" onclick="nextSection(1)">Pr√≥ximo</button>
                </div>
            </div>

            <div class="section" id="section2">
                <h2>Perfil Financeiro</h2>
                
                <div class="question-group">
                    <div class="question">Qual sua faixa et√°ria?</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(this)">Menor de 18 anos</div>
                        <div class="option" onclick="selectOption(this)">18-25 anos</div>
                        <div class="option" onclick="selectOption(this)">26-35 anos</div>
                        <div class="option" onclick="selectOption(this)">36-50 anos</div>
                        <div class="option" onclick="selectOption(this)">Acima de 50 anos</div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevSection(2)">Anterior</button>
                    <button class="btn btn-primary" onclick="nextSection(2)">Pr√≥ximo</button>
                </div>
            </div>

            <div class="section" id="section3">
                <h2>Perfil Financeiro</h2>
                
                <div class="question-group">
                    <div class="question">Qual seu principal objetivo financeiro?</div>
                    <div class="options">
                        <div class="option" onclick="selectOption(this)">Controlar gastos do dia a dia</div>
                        <div class="option" onclick="selectOption(this)">Economizar para uma meta espec√≠fica</div>
                        <div class="option" onclick="selectOption(this)">Quitar d√≠vidas</div>
                        <div class="option" onclick="selectOption(this)">Investir para o futuro</div>
                        <div class="option" onclick="selectOption(this)">Planejar aposentadoria</div>
                        <div class="option" onclick="selectOption(this)">Outro</div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevSection(3)">Anterior</button>
                    <button class="btn btn-primary" onclick="nextSection(3)">Pr√≥ximo</button>
                </div>
            </div>

            <div class="section" id="section4">
                <h2>Receitas</h2>
                <p>Informe todas as suas fontes de renda.</p>
                
                <div class="form-group">
                    <label for="salario">Sal√°rio principal:</label>
                    <input type="number" id="salario" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="salarioSecundario">Sal√°rio secund√°rio (se aplic√°vel):</label>
                    <input type="number" id="salarioSecundario" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="freelance">Freelance/aut√¥nomo:</label>
                    <input type="number" id="freelance" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="aluguelRecebido">Alugu√©is recebidos:</label>
                    <input type="number" id="aluguelRecebido" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="outrasReceitas">Outras receitas:</label>
                    <input type="number" id="outrasReceitas" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="summary-card">
                    <h3>Total de Receitas</h3>
                    <div class="summary-value" id="totalReceitas">R$ 0,00</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevSection(4)">Anterior</button>
                    <button class="btn btn-primary" onclick="nextSection(4)">Pr√≥ximo</button>
                </div>
            </div>

            <div class="section" id="section5">
                <h2>Despesas Fixas</h2>
                <p>Informe todos os seus gastos mensais fixos.</p>
                
                <h3>Moradia</h3>
                <div class="form-group">
                    <label for="aluguel">Aluguel/Financiamento:</label>
                    <input type="number" id="aluguel" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="condominio">Condom√≠nio:</label>
                    <input type="number" id="condominio" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="agua">√Ågua:</label>
                    <input type="number" id="agua" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="luz">Luz:</label>
                    <input type="number" id="luz" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="internet">Internet:</label>
                    <input type="number" id="internet" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <h3>Transporte</h3>
                <div class="form-group">
                    <label for="combustivel">Combust√≠vel:</label>
                    <input type="number" id="combustivel" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="form-group">
                    <label for="transportePublico">Transporte p√∫blico:</label>
                    <input type="number" id="transportePublico" placeholder="R$ 0,00" onchange="calcularTotais()">
                </div>
                
                <div class="summary-card">
                    <h3>Total de Despesas Fixas</h3>
                    <div class="summary-value" id="totalDespesas">R$ 0,00</div>
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevSection(5)">Anterior</button>
                    <button class="btn btn-primary" onclick="nextSection(5)">Pr√≥ximo</button>
                </div>
            </div>

            <div class="section" id="section6">
                <h2>Resumo e An√°lise</h2>
                <p>Veja um resumo completo da sua situa√ß√£o financeira.</p>
                
                <div class="resumo-grid">
                    <div class="summary-card">
                        <h3>Resumo Mensal</h3>
                        <p>Total Receitas: <span class="summary-value positive" id="resumoReceitas">R$ 0,00</span></p>
                        <p>Total Despesas: <span class="summary-value negative" id="resumoDespesas">R$ 0,00</span></p>
                        <p>Total Parcelas D√≠vidas: <span class="summary-value negative" id="resumoDividas">R$ 0,00</span></p>
                        <p>Total Dispon√≠vel: <span class="summary-value" id="resumoDisponivel">R$ 0,00</span></p>
                        <p>Valor para Investir: <span class="summary-value positive" id="resumoInvestir">R$ 0,00</span></p>
                        <p>Saldo Final: <span class="summary-value" id="resumoSaldo">R$ 0,00</span></p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="gastosChart"></canvas>
                    </div>
                </div>
                
                <div class="alert">
                    <strong>Recomenda√ß√£o:</strong> Tente economizar pelo menos 20% da sua renda para investimentos.
                </div>
                
                <div class="navigation">
                    <button class="btn btn-secondary" onclick="prevSection(6)">Anterior</button>
                    <button class="btn btn-primary" onclick="finalizarQuestionario()">Finalizar e Ver Dashboard</button>
                </div>
            </div>

            <!-- Dashboard Interativo -->
            <div class="dashboard" id="dashboard">
                <div class="dashboard-header">
                    <h2>Dashboard Financeiro</h2>
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="reiniciarQuestionario()">Editar Question√°rio</button>
                        <button class="btn" onclick="exportarDados()">Exportar Dados</button>
                        <button class="btn btn-primary" onclick="gerarRelatorioPDF()">Gerar Relat√≥rio PDF</button>
                    </div>
                </div>

                <!-- Assistente Financeiro -->
                <div class="assistente-section">
                    <div class="assistente-header">
                        <div class="assistente-avatar">$</div>
                        <div>
                            <h3>Assistente Financeiro</h3>
                            <p>Suas dicas personalizadas para economizar e investir</p>
                        </div>
                    </div>
                    <div class="assistente-mensagens" id="assistenteMensagens">
                        <!-- Mensagens ser√£o inseridas aqui -->
                    </div>
                </div>

                <!-- Alertas Inteligentes -->
                <div class="alertas-section">
                    <div class="assistente-header">
                        <div class="assistente-avatar" style="background: var(--danger-color);">!</div>
                        <div>
                            <h3>Alertas Inteligentes</h3>
                            <p>Notifica√ß√µes importantes sobre suas finan√ßas</p>
                        </div>
                    </div>
                    <div id="alertasContainer">
                        <!-- Alertas ser√£o inseridos aqui -->
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Receitas Totais</h3>
                        <div class="stat-value positive" id="dashboardReceitas">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Despesas Totais</h3>
                        <div class="stat-value negative" id="dashboardDespesas">R$ 0,00</div>
                    </div>
                    <div class="stat-card">
                        <h3>Saldo Mensal</h3>
                        <div class="stat-value" id="dashboardSaldo">R$ 0,00</div>
                    </div>
                    <div class="stat-card positive">
                        <h3>Total Investido</h3>
                        <div class="stat-value" id="dashboardInvestimentos">R$ 0,00</div>
                        <div class="stat-subvalue" id="dashboardRendimento">Rendimento mensal: R$ 0,00</div>
                    </div>
                </div>

                <div class="dashboard-nav">
                    <button class="tab-button active" onclick="showDashboardTab('visao-geral')">Vis√£o Geral</button>
                    <button class="tab-button" onclick="showDashboardTab('receitas')">Receitas</button>
                    <button class="tab-button" onclick="showDashboardTab('despesas')">Despesas</button>
                    <button class="tab-button" onclick="showDashboardTab('dividas')">D√≠vidas</button>
                    <button class="tab-button" onclick="showDashboardTab('investimentos')">Investimentos</button>
                    <button class="tab-button" onclick="showDashboardTab('metas')">Metas</button>
                    <button class="tab-button" onclick="showDashboardTab('categorias')">Categorias</button>
                    <button class="tab-button" onclick="showDashboardTab('backup')">Backup</button>
                    <button class="tab-button" onclick="showDashboardTab('automacoes')">Automa√ß√µes</button>
                    <button class="tab-button" onclick="showDashboardTab('analytics')">Analytics</button>
                    <button class="tab-button" onclick="showDashboardTab('relatorios')">Relat√≥rios</button>
                </div>

                <!-- Vis√£o Geral -->
                <div class="dashboard-section active" id="visao-geral">
                    <div class="charts-grid">
                        <div class="chart-card">
                            <h3>Distribui√ß√£o de Gastos</h3>
                            <canvas id="distribuicaoGastosChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Evolu√ß√£o Patrimonial</h3>
                            <canvas id="evolucaoPatrimonialChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="data-table">
                        <h3>Resumo Financeiro</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Categoria</th>
                                    <th>Valor</th>
                                    <th>% da Renda</th>
                                </tr>
                            </thead>
                            <tbody id="resumoFinanceiroTable">
                                <!-- Preenchido dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Receitas -->
                <div class="dashboard-section" id="receitas">
                    <h3>Gerenciar Receitas</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalReceita()">+ Nova Receita</button>
                    </div>
                    <div class="data-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Descri√ß√£o</th>
                                    <th>Valor</th>
                                    <th>Categoria</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="receitasTable">
                                <!-- Preenchido dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Despesas -->
                <div class="dashboard-section" id="despesas">
                    <h3>Gerenciar Despesas</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalDespesa()">+ Nova Despesa</button>
                    </div>
                    <div class="data-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Descri√ß√£o</th>
                                    <th>Valor</th>
                                    <th>Categoria</th>
                                    <th>Data</th>
                                    <th>Recorrente</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="despesasTable">
                                <!-- Preenchido dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- D√≠vidas -->
                <div class="dashboard-section" id="dividas">
                    <h3>Gerenciar D√≠vidas</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalDivida()">+ Nova D√≠vida</button>
                    </div>
                    <div class="data-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Descri√ß√£o</th>
                                    <th>Valor Total</th>
                                    <th>Valor Parcela</th>
                                    <th>Parcelas</th>
                                    <th>Taxa Juros</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="dividasDashboardTable">
                                <!-- Preenchido dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Investimentos -->
                <div class="dashboard-section" id="investimentos">
                    <h3>Gerenciar Investimentos</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalInvestimento()">+ Novo Investimento</button>
                    </div>
                    <div class="data-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Descri√ß√£o</th>
                                    <th>Valor Investido</th>
                                    <th>Valor Atual</th>
                                    <th>Tipo</th>
                                    <th>Rentabilidade</th>
                                    <th>Rendimento Total</th>
                                    <th>Data</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="investimentosDashboardTable">
                                <!-- Preenchido dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Metas -->
                <div class="dashboard-section" id="metas">
                    <h3>Metas Financeiras</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalMeta()">+ Nova Meta</button>
                    </div>
                    <div id="metasContainer">
                        <!-- Metas ser√£o inseridas aqui -->
                    </div>
                    
                    <!-- Simulador de Metas -->
                    <div class="simulador-meta">
                        <h4>üéØ Simulador de Meta</h4>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Valor da Meta</label>
                                <input type="number" id="simuladorValor" placeholder="R$ 10.000">
                            </div>
                            <div class="form-group">
                                <label>Prazo (meses)</label>
                                <input type="number" id="simuladorPrazo" placeholder="12">
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="calcularSimulacao()">Calcular</button>
                        
                        <div id="resultadoSimulacao" class="hidden">
                            <p>Voc√™ precisa economizar: <strong id="valorMensal">R$ 0,00</strong> por m√™s</p>
                            <p>Recomenda√ß√£o: <span id="recomendacaoSimulacao"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Categorias -->
                <div class="dashboard-section" id="categorias">
                    <h3>Categorias Personalizadas</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="abrirModalCategoria()">+ Nova Categoria</button>
                    </div>
                    <div class="categorias-section">
                        <div id="categoriasContainer">
                            <!-- Categorias ser√£o inseridas aqui -->
                        </div>
                    </div>
                </div>

                <!-- Backup & Sincroniza√ß√£o -->
                <div class="dashboard-section" id="backup">
                    <h3>Backup e Sincroniza√ß√£o</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="fazerBackup()">üîÑ Fazer Backup Agora</button>
                        <button class="btn btn-secondary" onclick="restaurarBackup()">üì• Restaurar Backup</button>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>√öltimo Backup</h3>
                            <div class="stat-value" id="ultimoBackup">Nunca</div>
                            <div class="stat-subvalue">Backup autom√°tico a cada 24h</div>
                        </div>
                        
                        <div class="stat-card">
                            <h3>Pr√≥ximo Backup</h3>
                            <div class="stat-value" id="proximoBackup">-</div>
                            <div class="stat-subvalue">Autom√°tico</div>
                        </div>
                    </div>
                </div>

                <!-- Automa√ß√µes Inteligentes -->
                <div class="dashboard-section" id="automacoes">
                    <h3>Automa√ß√µes Financeiras</h3>
                    
                    <div class="automation-card">
                        <h4>üí° Categoriza√ß√£o Autom√°tica</h4>
                        <p>Regras inteligentes para categorizar transa√ß√µes automaticamente</p>
                        
                        <div class="automation-rules" id="automationRules">
                            <!-- Regras ser√£o inseridas aqui -->
                        </div>
                        
                        <button class="btn btn-primary" onclick="abrirModalRegra()">+ Nova Regra</button>
                    </div>
                    
                    <div class="automation-card">
                        <h4>üí∞ Transfer√™ncias Autom√°ticas</h4>
                        <p>Configure transfer√™ncias recorrentes para investimentos</p>
                        <div class="form-group">
                            <div class="checkbox-group">
                                <input type="checkbox" id="autoInvestimento">
                                <label for="autoInvestimento">Transferir automaticamente 10% da renda para investimentos</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Avan√ßados -->
                <div class="dashboard-section" id="analytics">
                    <h3>Analytics Financeiros</h3>
                    
                    <div class="charts-grid">
                        <div class="chart-card">
                            <h4>üìä Comparativo com M√©dia do Mercado</h4>
                            <canvas id="comparativoMercadoChart"></canvas>
                        </div>
                        
                        <div class="chart-card">
                            <h4>üìà Proje√ß√£o Patrimonial</h4>
                            <canvas id="projecaoPatrimonialChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="kpi-grid">
                        <div class="stat-card">
                            <h3>ROI Mensal</h3>
                            <div class="stat-value positive">+2.3%</div>
                            <div class="stat-subvalue">vs +1.8% m√©dia mercado</div>
                        </div>
                        
                        <div class="stat-card">
                            <h3>Taxa de Poupan√ßa</h3>
                            <div class="stat-value positive">25%</div>
                            <div class="stat-subvalue">Recomendado: 20%</div>
                        </div>
                    </div>
                    
                    <!-- Educa√ß√£o Financeira -->
                    <div class="assistente-section">
                        <div class="assistente-header">
                            <div class="assistente-avatar" style="background: var(--warning-color);">üìö</div>
                            <div>
                                <h3>Educa√ß√£o Financeira</h3>
                                <p>Conte√∫dos educativos para melhorar sua sa√∫de financeira</p>
                            </div>
                        </div>
                        <div id="educacaoContainer">
                            <!-- Conte√∫dos educativos ser√£o inseridos aqui -->
                        </div>
                    </div>
                </div>

                <!-- Relat√≥rios -->
                <div class="dashboard-section" id="relatorios">
                    <h3>Relat√≥rios e Exporta√ß√£o</h3>
                    <div class="relatorios-section">
                        <p>Gere relat√≥rios detalhados sobre sua situa√ß√£o financeira</p>
                        
                        <div class="relatorio-options">
                            <div class="relatorio-card" onclick="gerarRelatorioPDF('mensal')">
                                <div class="relatorio-icon">üìä</div>
                                <h4>Relat√≥rio Mensal</h4>
                                <p>Resumo completo do m√™s atual</p>
                            </div>
                            
                            <div class="relatorio-card" onclick="gerarRelatorioPDF('anual')">
                                <div class="relatorio-icon">üìà</div>
                                <h4>Relat√≥rio Anual</h4>
                                <p>Vis√£o geral do ano financeiro</p>
                            </div>
                            
                            <div class="relatorio-card" onclick="gerarRelatorioPDF('investimentos')">
                                <div class="relatorio-icon">üíπ</div>
                                <h4>Relat√≥rio de Investimentos</h4>
                                <p>Desempenho dos seus investimentos</p>
                            </div>
                            
                            <div class="relatorio-card" onclick="gerarRelatorioPDF('metas')">
                                <div class="relatorio-icon">üéØ</div>
                                <h4>Relat√≥rio de Metas</h4>
                                <p>Progresso das suas metas financeiras</p>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="gerarRelatorioPDF('completo')">Gerar Relat√≥rio Completo</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal para Receitas -->
            <div class="modal" id="modalReceita">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalReceitaTitulo">Nova Receita</h3>
                        <button class="close-modal" onclick="fecharModal('modalReceita')">&times;</button>
                    </div>
                    <form id="formReceita">
                        <input type="hidden" id="receitaId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="receitaDescricao">Descri√ß√£o *</label>
                                <input type="text" id="receitaDescricao" required>
                            </div>
                            <div class="form-group">
                                <label for="receitaValor">Valor *</label>
                                <input type="number" id="receitaValor" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="receitaCategoria">Categoria</label>
                                <select id="receitaCategoria">
                                    <option value="Sal√°rio">Sal√°rio</option>
                                    <option value="Freelance">Freelance</option>
                                    <option value="Investimentos">Investimentos</option>
                                    <option value="Aluguel">Aluguel</option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="receitaData">Data</label>
                                <input type="date" id="receitaData">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="receitaObservacoes">Observa√ß√µes</label>
                            <textarea id="receitaObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalReceita')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Receita</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Despesas -->
            <div class="modal" id="modalDespesa">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalDespesaTitulo">Nova Despesa</h3>
                        <button class="close-modal" onclick="fecharModal('modalDespesa')">&times;</button>
                    </div>
                    <form id="formDespesa">
                        <input type="hidden" id="despesaId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="despesaDescricao">Descri√ß√£o *</label>
                                <input type="text" id="despesaDescricao" required>
                            </div>
                            <div class="form-group">
                                <label for="despesaValor">Valor *</label>
                                <input type="number" id="despesaValor" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="despesaCategoria">Categoria *</label>
                                <select id="despesaCategoria" required>
                                    <option value="">Selecione...</option>
                                    <option value="Moradia">Moradia</option>
                                    <option value="Alimenta√ß√£o">Alimenta√ß√£o</option>
                                    <option value="Transporte">Transporte</option>
                                    <option value="Sa√∫de">Sa√∫de</option>
                                    <option value="Educa√ß√£o">Educa√ß√£o</option>
                                    <option value="Lazer">Lazer</option>
                                    <option value="Vestu√°rio">Vestu√°rio</option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="despesaData">Data</label>
                                <input type="date" id="despesaData">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="checkbox-group">
                                <input type="checkbox" id="despesaRecorrente">
                                <label for="despesaRecorrente">Despesa Recorrente (mensal)</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="despesaObservacoes">Observa√ß√µes</label>
                            <textarea id="despesaObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalDespesa')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Despesa</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para D√≠vidas -->
            <div class="modal" id="modalDivida">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalDividaTitulo">Nova D√≠vida</h3>
                        <button class="close-modal" onclick="fecharModal('modalDivida')">&times;</button>
                    </div>
                    <form id="formDivida">
                        <input type="hidden" id="dividaId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dividaDescricao">Descri√ß√£o *</label>
                                <input type="text" id="dividaDescricao" required>
                            </div>
                            <div class="form-group">
                                <label for="dividaValorTotal">Valor Total *</label>
                                <input type="number" id="dividaValorTotal" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dividaValorParcela">Valor da Parcela *</label>
                                <input type="number" id="dividaValorParcela" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="dividaParcelas">Parcelas *</label>
                                <input type="text" id="dividaParcelas" placeholder="Ex: 5/12" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dividaTaxaJuros">Taxa de Juros (%)</label>
                                <input type="number" id="dividaTaxaJuros" step="0.01">
                            </div>
                            <div class="form-group">
                                <label for="dividaStatus">Status</label>
                                <select id="dividaStatus">
                                    <option value="Pendente">Pendente</option>
                                    <option value="Paga">Paga</option>
                                    <option value="Atrasada">Atrasada</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="dividaObservacoes">Observa√ß√µes</label>
                            <textarea id="dividaObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalDivida')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar D√≠vida</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Investimentos -->
            <div class="modal" id="modalInvestimento">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalInvestimentoTitulo">Novo Investimento</h3>
                        <button class="close-modal" onclick="fecharModal('modalInvestimento')">&times;</button>
                    </div>
                    <form id="formInvestimento">
                        <input type="hidden" id="investimentoId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="investimentoDescricao">Descri√ß√£o *</label>
                                <input type="text" id="investimentoDescricao" required>
                            </div>
                            <div class="form-group">
                                <label for="investimentoValor">Valor *</label>
                                <input type="number" id="investimentoValor" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="investimentoTipo">Tipo *</label>
                                <select id="investimentoTipo" required>
                                    <option value="">Selecione...</option>
                                    <option value="Poupan√ßa">Poupan√ßa</option>
                                    <option value="CDB">CDB</option>
                                    <option value="Tesouro Direto">Tesouro Direto</option>
                                    <option value="A√ß√µes">A√ß√µes</option>
                                    <option value="FII">Fundos Imobili√°rios</option>
                                    <option value="Previd√™ncia">Previd√™ncia</option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="investimentoRentabilidade">Rentabilidade (% ao ano)</label>
                                <input type="number" id="investimentoRentabilidade" step="0.01">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="investimentoData">Data do Investimento</label>
                                <input type="date" id="investimentoData">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="investimentoObservacoes">Observa√ß√µes</label>
                            <textarea id="investimentoObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalInvestimento')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Investimento</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Metas -->
            <div class="modal" id="modalMeta">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalMetaTitulo">Nova Meta Financeira</h3>
                        <button class="close-modal" onclick="fecharModal('modalMeta')">&times;</button>
                    </div>
                    <form id="formMeta">
                        <input type="hidden" id="metaId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="metaDescricao">Descri√ß√£o *</label>
                                <input type="text" id="metaDescricao" required>
                            </div>
                            <div class="form-group">
                                <label for="metaValor">Valor Total *</label>
                                <input type="number" id="metaValor" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="metaData">Data Limite</label>
                                <input type="date" id="metaData">
                            </div>
                            <div class="form-group">
                                <label for="metaCategoria">Categoria</label>
                                <select id="metaCategoria">
                                    <option value="Viagem">Viagem</option>
                                    <option value="Educa√ß√£o">Educa√ß√£o</option>
                                    <option value="Casa">Casa</option>
                                    <option value="Carro">Carro</option>
                                    <option value="Emerg√™ncia">Emerg√™ncia</option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="metaObservacoes">Observa√ß√µes</label>
                            <textarea id="metaObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalMeta')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Meta</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Categorias -->
            <div class="modal" id="modalCategoria">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalCategoriaTitulo">Nova Categoria</h3>
                        <button class="close-modal" onclick="fecharModal('modalCategoria')">&times;</button>
                    </div>
                    <form id="formCategoria">
                        <input type="hidden" id="categoriaId">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="categoriaNome">Nome *</label>
                                <input type="text" id="categoriaNome" required>
                            </div>
                            <div class="form-group">
                                <label for="categoriaCor">Cor</label>
                                <input type="color" id="categoriaCor" value="#3498db">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="categoriaTipo">Tipo *</label>
                            <select id="categoriaTipo" required>
                                <option value="receita">Receita</option>
                                <option value="despesa">Despesa</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="categoriaObservacoes">Observa√ß√µes</label>
                            <textarea id="categoriaObservacoes" rows="3"></textarea>
                        </div>
                        <div class="action-buttons">
                            <button type="button" class="btn btn-secondary" onclick="fecharModal('modalCategoria')">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Categoria</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>
